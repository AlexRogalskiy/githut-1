{"version":3,"sources":["components/LicensePie.js","components/Button.js","components/Head.js","components/Header.js","components/Content.js","components/Comments.js","components/Footer.js","common/utils.js","components/Select.js","reducers/EventReducer.js","reducers/TableReducer.js","reducers/HistReducer.js","components/Layout.js","index.js"],"names":["LicensePie","config","credits","enabled","chart","type","backgroundColor","title","text","tooltip","formatter","this","series","color","point","name","percentage","toFixed","useState","state","setState","useEffect","_","pipe","map","mapKeys","k","update","Math","floor","take","licenses","data","highcharts","Highcharts","options","Button","match","store","history","params","event","className","onClick","a","slice","length","push","year","quarter","Application","Helmet","meta","charset","Header","id","href","target","position","Content","style","margin","marginTop","marginBottom","maxWidth","textAlign","fontSize","Comments","Footer","rel","getMaxDataDate","Select","props","vals","start","end","range","i","value","toString","label","setValue","hist","dispatch","payload","histPush","x","y","z","then","maxDate","styles","control","provided","height","valueContainer","width","paddingRight","onChange","searchable","clearable","eventReducer","action","pullRequests","starEvent","pushEvent","issueEvent","tableReducer","Error","histReducer","LangChart","lazy","LangTable","Layout","table","useReducer","TableReducer","HistReducer","EventReducer","path","render","route","fallback","production","window","location","includes","defaultPath","loc","isValidURL","some","v","url","pushState","document","getElementById","hasChildNodes","hydrate","main"],"mappings":"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","file":"static/js/main.c228ccdc.chunk.js","sourcesContent":["/**\n * A Highcharts chart that shows the top five licenses on GitHub\n * Please note that the license for this file is\n * not AGPL-3.0 since Highcharts is licensed under CC BY-NC 3.0\n * If Highcharts gets replaced in the future this class will\n * be rewritten and licensed under AGPL-3.0\n * @author Fabian Beuke <mail@beuke.org>\n * @license CC BY-NC 3.0\n * @see {@link https://creativecommons.org/licenses/by-nc/3.0/}\n */\n\nimport { useState, useEffect } from \"react\";\nimport licenses from \"data/github-licenses.json\"\nimport Highcharts from \"highcharts\"\nimport HighchartsReact from \"highcharts-react-official\"\nimport _ from \"lodash/fp\"\n\nexport default function LicensePie() {\n    const config = {\n        credits: { enabled: false },\n        chart: { type: \"pie\", backgroundColor: \"transparent\" },\n        title: { text: \"Top 5 Open Source Licenses\" },\n        tooltip: {\n            formatter: function () {\n                return (\n                    '<span style=\"color:' +\n                    this.series.color +\n                    '\">' +\n                    this.point.name +\n                    \"</span>: <b>\" +\n                    this.percentage.toFixed(2) +\n                    \"%</b>\"\n                )\n            },\n        },\n    }\n\n    const [state, setState] = useState(config)\n\n    useEffect(() => {\n        const series = _.pipe(\n            _.map(_.mapKeys((k) => (k === \"license\" ? \"name\" : \"y\"))),\n            _.map(_.update(\"y\")(Math.floor)),\n            _.take(5)\n        )(licenses)\n        setState({ ...config, series: [{ data: series }] })\n    }, [])\n\n    return (\n        <center>\n            <HighchartsReact highcharts={Highcharts} options={state} />\n        </center>\n    )\n}\n","/**\n * Material button to select the data set\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nimport { useEffect, useState } from \"react\";\nimport { Button as MaterialButton } from \"react-materialize\"\n\nexport default function Button({ match, store, history }) {\n    const [state, setState] = useState([\n        \"pushes\",\n        \"stars\",\n        \"issues\",\n        \"pull_requests\",\n    ])\n\n    useEffect(() => {\n        store[1]({ type: match.params.event })\n    }, [match.params.event])\n\n    function next() {\n        const rotateRight = (a) => [...a.slice(1, a.length), a[0]]\n        setState(rotateRight(state))\n        history.push(\n            \"/\" +\n                state[0] +\n                \"/\" +\n                match.params.year +\n                \"/\" +\n                match.params.quarter\n        )\n    }\n\n    return (\n        <div>\n            <center>\n                <MaterialButton\n                    className={\n                        \"waves-effect waves-light blue-grey darken-1 btn\"\n                    }\n                    onClick={next}\n                >\n                    {store[0].name}\n                </MaterialButton>\n            </center>\n        </div>\n    )\n}\n","/**\n * Contains everything that belongs into the html head\n * Title, css, fonts\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nimport Helmet from \"react-helmet\"\n\nexport default function Application() {\n    return (\n        <div className=\"application\">\n            <Helmet\n                title=\"Github Language Stats\"\n                meta={[{ charset: \"utf-8\" }]}\n            />\n        </div>\n    )\n}\n","/**\n * Contains everything that belongs into the page header\n * Please note this class is not to be confused with Head.js (html head)\n * Fork me ribbon, page title and desc\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nimport GitHubForkRibbon from \"react-github-fork-ribbon\";\n\nexport default function Header() {\n    return (\n        <div id=\"wrapper\">\n            <div id=\"header\">\n                <h1>\n                    Git<b>Hut 2.0</b>\n                </h1>\n                <h2>A small place to discover languages in GitHub</h2>\n            </div>\n            <GitHubForkRibbon\n                href=\"//github.com/madnight/githut\"\n                color=\"black\"\n                target=\"_blank\"\n                position=\"right\"\n            >\n                Fork me on GitHub\n            </GitHubForkRibbon>\n        </div>\n    )\n}\n","/**\n * The description / explanation of the chart and table, explains\n * data source, data aggregation, trend calculation, ...\n * Compiles markdown into html, content.md -> html\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nexport default function Content() {\n    return (\n        <div\n            style={{\n                margin: \"auto\",\n                marginTop: \"40px\",\n                marginBottom: \"40px\",\n                maxWidth: 760,\n                textAlign: \"justify\",\n                fontSize: 13,\n            }}\n        >\n            <h4 id=\"githut-2-0\">GITHUT 2.0</h4>\n            <p>\n                GitHut 2.0 is an attempt to continue the{\" \"}\n                <a href=\"http://githut.info\">githut.info</a> project. GitHub is\n                the largest code host in the world, with 40 million users and\n                more than 190 million repositories as of January 2020. By\n                analyzing how languages are used in GitHub it&#39;s possible to\n                understand the popularity of programming languages among\n                developers and to discover the unique characteristics of each\n                language. GitHub provides a public{\" \"}\n                <a href=\"//developer.github.com/v3/\">API</a> to interact with\n                its huge dataset of events and interaction with the hosted\n                repositories. The{\" \"}\n                <a href=\"//githubarchive.org/\">GitHub Archive</a> project goes\n                one step further by aggregating and storing the API data over\n                time. The quantitative data used in GitHut 2.0 is collected from\n                the GitHub Archive dataset via{\" \"}\n                <a href=\"//developers.google.com/bigquery/\">Google BigQuery</a>.\n            </p>\n            <p>\n                The language percentage distribution in the line chart shows the\n                top 10 (or manually selected) languages since 2012/Q2. The\n                ranking table shows the top 50 languages of the last quarter.\n                The percentage values are the actual fractions of pull requests,\n                pushes, stars or issues in relation to the top 50 languages in\n                the table. The YoY change shows the difference in percentage\n                compared to the same time period last year. The YoY trend arrows\n                indicate the change in ranking. Two arrows up/down stands for\n                more than three ranks up/down within one year. No arrow\n                indicates that nothing has changed and one arrow fills the gap.\n                Please note that it is possible that the ranking shown in the\n                table does not match the chart ranking, since they are\n                calculated over a different time period (quarter vs. full\n                history). Please also note that there is not enough data\n                available in the GitHub Archive dataset to calculate a\n                statistical accurate ranking table or chart for any time period\n                before 2012/Q2.\n            </p>\n            <h4 id=\"related-work\">Related Work</h4>\n            <ul>\n                <li>\n                    <a href=\"//tiobe.com/tiobe-index/\">\n                        TIOBE Programming Community Index\n                    </a>{\" \"}\n                    is a measure of popularity of programming languages, created\n                    and maintained by the TIOBE Company based in Eindhoven, the\n                    Netherlands.\n                </li>\n                <li>\n                    <a href=\"//redmonk.com/sogrady/2016/07/20/language-rankings-6-16/\">\n                        The RedMonk Programming Language Rankings\n                    </a>{\" \"}\n                    are derived from a correlation of programming traction on\n                    GitHub and Stack Overflow.\n                </li>\n                <li>\n                    <a href=\"//pypl.github.io/PYPL.html\">\n                        The PYPL PopularitY of Programming Language Index\n                    </a>{\" \"}\n                    is created by analyzing how often language tutorials are\n                    searched on Google.\n                </li>\n                <li>\n                    <a href=\"//langpop.corger.nl\">\n                        Programming Language Popularity Chart\n                    </a>{\" \"}\n                    shows GitHub (lines changed) and StackOverflow (tags) ratio\n                    for programming languages.\n                </li>\n            </ul>\n        </div>\n    )\n}\n","/**\n * Simple discussion box\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nexport default function Comments() {\n    return (\n        <div style={{ margin: \"auto\", maxWidth: 760 }} id=\"disqus_thread\"></div>\n    )\n}\n","/**\n * Contains everything that belongs into the html footer\n * License, Credits\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\nexport default function Footer() {\n    return (\n        <div id=\"footer\">\n            <div id=\"licence\" className=\"clearfix\">\n                Credits to <a href=\"//github.com/littleark\">Carlo Zapponi</a>\n                <br />\n                This work is licensed under the{\" \"}\n                <a // eslint-disable-line react/jsx-no-target-blank\n                    rel=\"noopener\"\n                    href=\"//www.gnu.org/licenses/agpl-3.0.en.html\"\n                    target=\"_blank\"\n                >\n                    GNU Affero General Public License\n                </a>\n            </div>\n        </div>\n    )\n}\n","export async function getMaxDataDate() {\n    return { year: 2021, quarter: 1 }\n}\n","import { useState, useEffect } from \"react\";\nimport ReactSelect from \"react-select\"\nimport { range, toString } from \"lodash/fp\"\nimport { getMaxDataDate } from \"common/utils.js\"\n\nexport default function Select(props) {\n    const year = props.year\n    const [state, setState] = useState({})\n\n    function vals(start, end) {\n        return range(--start, end).map((i) => ({\n            value: toString(i + 1),\n            label: toString(i + 1),\n        }))\n    }\n\n    function setValue(value) {\n        const [_, dispatch] = props.hist\n\n        dispatch({ type: year ? \"setYear\" : \"setQuarter\", payload: value })\n        setState({ ...state, value: value })\n    }\n\n    useEffect(() => {\n        getMaxDataDate().then((maxDate) => {\n            setState({\n                ...state,\n                options: year ? vals(2014, maxDate.year) : vals(1, 4),\n                value: year\n                    ? props.match.params.year\n                    : props.match.params.quarter,\n            })\n        })\n        const { params } = props.match\n        setValue(year ? params.year : params.quarter)\n    }, [])\n\n    function histPush(x, y, z) {\n        props.history.push(\"/\" + x + \"/\" + y + \"/\" + z)\n    }\n\n    function onChange({ value }) {\n        const { params } = props.match\n        setValue(value)\n        if (year) {\n            histPush(params.event, value, params.quarter)\n        } else {\n            histPush(params.event, params.year, value)\n        }\n    }\n\n    if (!state) return null\n    const styles = {\n        control: (provided) => ({ ...provided, height: 38 }),\n        valueContainer: (provided) => ({ ...provided, height: 38 }),\n    }\n    return (\n        <div style={{ width: \"200px\", paddingRight: \"20px\" }}>\n            <h4 className=\"section-heading\">{year ? \"Year\" : \"Quarter\"}</h4>\n            <ReactSelect\n                styles={styles}\n                onChange={onChange}\n                options={state.options}\n                searchable={false}\n                clearable={false}\n                value={{ value: state.value, label: state.value }}\n            />\n        </div>\n    )\n}\n","/**\n * This reducer keeps track of the state of\n * Pull Request, Pushes, Stars or Issues depending on users choice\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\nexport default function eventReducer(state, action) {\n    switch (action.type) {\n        case \"pull_requests\":\n            return { ...state, name: \"Pull Request\", data: state.pullRequests }\n        case \"stars\":\n            return { ...state, name: \"Stars\", data: state.starEvent }\n        case \"pushes\":\n            return { ...state, name: \"Pushes\", data: state.pushEvent }\n        case \"issues\":\n            return { ...state, name: \"Issues\", data: state.issueEvent }\n        default:\n            return { ...state, name: \"Pull Request\", data: state.pullRequests }\n    }\n}\n","export default function tableReducer(state, action) {\n    switch (action.type) {\n        case \"set\":\n            return { data: action.payload }\n        default:\n            throw new Error()\n    }\n}\n","/**\n * This reducer handles year and quarter state changes\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nexport default function histReducer(state, action) {\n    switch (action.type) {\n        case \"setYear\":\n            return { ...state, year: action.payload }\n        case \"setQuarter\":\n            return { ...state, quarter: action.payload }\n        default:\n            throw new Error()\n    }\n}\n","/**\n * Layout class that is used to compose all react\n * components into one app div\n * Provides dependency injection via props\n * Contains no logic and no functions except render\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nimport { useReducer, lazy, Suspense } from \"react\";\nimport { Route } from \"react-router-dom\"\nimport LicensePie from \"components/LicensePie\"\nimport Button from \"components/Button\"\nimport Head from \"components/Head\"\nimport Header from \"components/Header\"\nimport Content from \"components/Content\"\nimport Comments from \"components/Comments\"\nimport Footer from \"components/Footer\"\nimport Select from \"components/Select\"\nimport EventReducer from \"reducers/EventReducer\"\nimport TableReducer  from \"reducers/TableReducer\"\nimport HistReducer  from \"reducers/HistReducer\"\n\nconst LangChart = lazy(() => import(\"components/LangChart\"))\nconst LangTable = lazy(() => import(\"components/LangTable\"))\n\nexport default function Layout() {\n\n    const table = useReducer(TableReducer, {});\n    const hist = useReducer(HistReducer, { year: \"2018\", quarter: \"1\" });\n    const event = useReducer(EventReducer, {\n        data: import(\"data/gh-pull-request.json\"),\n        name: \"Pull Requests\",\n        pullRequests: import(\"data/gh-pull-request.json\"),\n        pushEvent: import(\"data/gh-push-event.json\"),\n        starEvent: import(\"data/gh-star-event.json\"),\n        issueEvent: import(\"data/gh-issue-event.json\"),\n    });\n\n    return (\n        <div>\n            <Head />\n            <Header />\n            <Route\n                path=\"/:event?/:year?/:quarter?/:lang?\"\n                render={(route) => (\n                    <div>\n                        <Suspense fallback={<div></div>}>\n                        <LangChart\n                            {...route}\n                            store={event}\n                            hist={hist}\n                            table={table}\n                        />\n                        </Suspense>\n                        <Button {...route} store={event} />\n                        <div className=\"rowCenter\">\n                            <Select {...route} hist={hist} year=\"true\" />\n                            <Select {...route} hist={hist} />\n                        </div>\n                        <Suspense fallback={<div></div>}>\n                        <LangTable\n                            store={event}\n                            hist={hist}\n                            table={table}\n                        />\n                        </Suspense>\n                    </div>\n                )}\n            />\n            <LicensePie />\n            <Content />\n            <Comments />\n            <Footer />\n        </div>\n    )\n}\n","/**\n * Entrypoint for the react app\n * Provides a basic app wrapper for react\n * @author Fabian Beuke <mail@beuke.org>\n * @license AGPL-3.0\n */\n\nimport { HashRouter } from \"react-router-dom\";\nimport Layout from \"components/Layout\"\nimport { getMaxDataDate } from \"common/utils.js\"\nimport { hydrate, render } from \"react-dom\"\n\nconst production = window.location.href.includes(\"madnight.github.io\")\n\nconst main = async () => {\n    const { year, quarter } = await getMaxDataDate()\n    const defaultPath = \"#/pull_requests/\" + year + \"/\" + quarter\n    const loc = window.location.href\n    const validUrlParams = [\"pull_requests\", \"pushes\", \"stars\", \"issues\"]\n    const isValidURL = validUrlParams.some((v) => loc.includes(v))\n    const url = (production ? \"/githut/\" : \"/\") + defaultPath\n\n    if (!isValidURL) {\n        window.history.pushState(\"\", \"\", url)\n    }\n\n    const rootElement = document.getElementById(\"root\")\n    if (rootElement.hasChildNodes()) {\n        hydrate(\n            <HashRouter>\n                <Layout />\n            </HashRouter>,\n            document.getElementById(\"root\")\n        )\n    } else {\n        render(\n            <HashRouter>\n                <Layout />\n            </HashRouter>,\n            document.getElementById(\"root\")\n        )\n    }\n}\n\nmain()\n"],"sourceRoot":""}